# КЕКЛАР НА СМАРТ КОНТРАКТАХ

ВНИМАНИЕ СРАЗУ! ПОКА РАСПОРЯЖАТЬСЯ КЕКЛАРАМИ МОЖНО ЧЕРЕЗ REMIX IDE!
СПЕЦИАЛЬНО ДЛЯ ЭТОГО В РЕПОЗИТОРИИ ПРИЛОЖЕН ФАЙЛ СМАРТ КОНТРАКТА НА
SOLIDITY! НЕ РАЗВОРАЧИВАЙТЕ СВОЙ КОНТРАКТ КЕКЛАРОВ, ОНИ БУДУТ ПОДДЕЛЬНЫМИ! НАСТОЯЩИЙ АДРЕС СМАРТ КОНТРАКТА: 0xE16d0f1ec7e8FEDB323FceAf5B1C7a769377Bd63

## 1. Создание кошелька
Установите в свой браузер расширение MetaMask, и создайте кошелек Etherium.
После создания кошелька Вы должны переключиться на тестовую сеть Kovan.

## 2. Подготовка к работе с кекларами
Для работы со смарт контрактом, перейдите на сайт https://faucet.kovan.network/ и авторизуйтесь через свой GitHub аккаунт.
Там же нужно ввести адрес кошелька (Ваш MetaMask должен быть настроен в сети рассказаной в части Создание кошелька) и нажать кнопку.
Вы получите уже через 10-30 секунд свой 1 эфир. Теперь с этим вы можете работать спокойно.
Откройте плагин и нажмите на кнопку Assets.
Там нажмите "Добавить токен" и поищите токены с символом KEK. Если не будет то нажмите на вкладку Пользовательский токен и укажите адрес смарт контракта.
Все поля вставятся автоматически. После чего нажмите на кнопку добавить.
Итак, Вы готовы пользоваться кекларами.

**ВАЖНО! Поскольку оригинальные кеклары Торгового Кек Банка представлены как int32, тоесть дробных чисел нету, так и у нас также. В связи с чем ICO и передача кекларов в MetaMask, а также конвертация KETH в KEK отсутствует и багано.**

## 3. Работа с кекларами
Пока Кекларами на блокчейнах можно пользоваться только через Remix IDE.
https://ethereum.github.io/browser-solidity/#optimize=false&version=soljson-v0.4.24+commit.e67f0147.js
Новый Remix IDE не подходит, поэтому нужно пользоваться старой версией. 
Итак, после перехода на сайт Remix IDE, нужно раскрыть папку browser.
После чего нужно скачать из репозитория файл keklars.sol.
После чего, надо нажать на кнопку в виде папки и выбрать файл.
Он может либо сам открыться либо нет, если нет то откройте его сами в IDE.
Идем в Settings и выбираем версию компилятора 0.4.24 последний коммит без слова nightly.
После чего надо нажать на кнопку Compile и скомпилировать контракт.
Перейдите во вкладку Run и выберите в списке Environment - Injected Web3.
MetaMask может попросить сделать сопряжение с Ремиксом, нужно согласиться, а также выбрать кошельки созданные плагином.
**ВАЖНО! Если не прогрузился список кошельков, выберите JavaScript VM, и не дожидаясь появление 100 тестовых эфиров на эмуляторе, вновь выберите Injected Web3, должно загрузиться**
Все, теперь осталось лишь ввести в поле "Load Contract from Address" адрес контракта сверху и нажать At Address. Кеклары готовы к использованию.

### 3.1. Параметры
Нажав на кнопку name, owner, symbol и totalSupply, Вы получите данные из кода контракта. Кнопки onwer и totalSupply исключения - данные загружаются из сети.

### 3.2. Транзакция.
Чтобы провести транзакцию, нам надо подготовить запрос. 
Чтобы подготовить запрос, Вы должны знать: адрес получателя который можно скопировать из MetaMask, сумма кекларов для передачи.
Допустим, на адрес 0x9B3fC623321E2CA8210B13DD051523CD4df7cc95 нужно положить 2,5 миллиона кеклар (2500000 KEK)
**ВАЖНО! Адрес получателя должен иметь заглавные буквы такие, как говорит MetaMask. Этот параметр важен и если его нарушить, Ваши кеклары могут сгореть, т.е уйти на несуществующий адрес, и потом хрен вы вернете. Автору данного смарт контракта лень перевыпускать сам контракт и выдавать всем вновь кеклары.**
Итак, Вы знаете все эти параметры, теперь надо обронить в кавычки адрес, должно получиться "0x9B3fC623321E2CA8210B13DD051523CD4df7cc95" затем в конце написать запятую, пробел и число кекларов.
У нас получится "0x9B3fC623321E2CA8210B13DD051523CD4df7cc95", 2500000 - транзакция готова.
Теперь этот запрос копируем в поле справа возле кнопки transfer. 
Нажимаем на кнопку transfer и MetaMask уже говорит о том что нужно подтвердить транзакцию. Ничего не трогаем и нажимаем подтвердить для подписи транзакции.
Средства отправляются.

### 3.3. Баланс.
Чтобы просмотреть чужой или свой баланс, надо подготовить запрос.
Чтобы подготовить запрос, Вы должны знать адрес получателя.
**ВАЖНО! Адрес получателя должен иметь заглавные буквы такие, как говорит MetaMask.**
Допустим, хотим проверить чужой баланс кошелька 0x9B3fC623321E2CA8210B13DD051523CD4df7cc95.
Оброняем их в кавычки и должно получиться "0x9B3fC623321E2CA8210B13DD051523CD4df7cc95".
Вводим данный адрес в поле возле кнопки balances и нажимаем на кнопку. За чтение данных записанных в контракте, коммисия в виде газа не берется.
Нажимаем на кнопку и мы видим баланс 2500000 КЕК.
Также можно сделать и со своим адресом, просто скопируйте его в MetaMask и сделайте такие же этапы.

### 3.4. Эммисия.
Эммитировать кеклары может только основатель смарт контракта, т.е я. Если Вы сами попробуете, у Вас ничего не выйдет.
Общее предложение Кеклара - 5 миллионов KEK.
